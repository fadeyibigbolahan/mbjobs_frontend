import{r as a,d as B,j as e,L as f,v as T,a as H,u as K}from"./index-CmvBuaAL.js";import{S as _,F as $}from"./Failure-eG4ZPNeu.js";import{B as R}from"./button-DQit-6O_.js";import{U as I}from"./user-zK-9aP32.js";import{M as L}from"./mail-D1LFu5P9.js";import{P as U}from"./phone-DlubA-ht.js";import{K as h}from"./key-square-B4ZayyX8.js";import"./check-U7oiaH0W.js";const J="/mbjobs_frontend/assets/apprentice-R33TQps0.png",Q="/mbjobs_frontend/assets/employer-CeTS74L8.png",te=()=>{const[s,M]=a.useState({fullName:"",email:"",phone:"",password:"",confirmPassword:""}),[c,i]=a.useState(""),[m,j]=a.useState(""),[d,x]=a.useState(!1),[n,N]=a.useState(!1),[b,y]=a.useState(""),[D,v]=a.useState(!1),[O,S]=a.useState(!1),[w,C]=a.useState(),q=B(),t=l=>{const{name:o,value:r}=l.target;M(u=>({...u,[o]:o==="email"?r.trim().toLowerCase():r})),i(""),j("")},A=async l=>{var P,E,k,z;l.preventDefault(),i(""),j(""),x(!0);const{fullName:o,email:r,phone:u,password:g,confirmPassword:F}=s;if(!o||!r||!u||!g||!F){i("⚠️ All fields are required"),x(!1);return}if(g!==F){i("❌ Passwords do not match"),x(!1);return}try{const p=await H.post(`${K}users/register-${w}`,{fullName:o,email:r,phone:u,password:g});j("✅ Signup successful! Redirecting..."),y("Signup successful! Redirecting..."),v(!0),setTimeout(()=>{q("/verification",{state:{email:r}})},100)}catch(p){console.error("Signup error:",p),i(((E=(P=p.response)==null?void 0:P.data)==null?void 0:E.message)||"❌ Signup failed! Please try again later."),y(((z=(k=p.response)==null?void 0:k.data)==null?void 0:z.message)||"Signup failed! Please try again later."),S(!0)}finally{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full flex flex-col md:h-screen justify-center items-center gap-y-4 md:flex-row",children:w==="apprentice"?e.jsx("div",{className:"h-full w-full bg-[#FFFFFF] md:w-[40%]",children:e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"flex w-full flex-col items-center justify-center rounded-xl bg-white p-8 gap-4",children:[e.jsx(f,{to:"/",children:e.jsx("img",{src:T,alt:"virtual Logo",style:{width:"50px"}})}),e.jsx("h2",{className:"font-kanit mb-4 text-center text-lg font-semibold",children:"CREATE AN ACCOUNT AS AN APPRENTICE"}),m&&e.jsx("p",{className:"mb-2 text-center text-sm text-green-600",children:m}),c&&e.jsx("p",{className:"mb-2 text-center text-sm text-red-500",children:c}),e.jsxs("form",{onSubmit:A,className:"w-full",children:[e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(I,{className:"text-[#003366 ]",size:18}),e.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Full Name"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(L,{className:"text-[#003366 ]",size:16}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Enter email"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(U,{className:"text-[#003366 ]",size:16}),e.jsx("input",{type:"text",name:"phone",value:s.phone,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(h,{className:"text-[#003366]",size:20}),e.jsx("input",{type:n?"text":"password",name:"password",value:s.password,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Password"}),e.jsx("div",{className:"flex justify-center items-center p-1 cursor-pointer",onClick:()=>N(l=>!l),children:e.jsx("p",{className:"text-xs",children:n?"Hide":"Show"})})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(h,{className:"text-[#003366 ]",size:20}),e.jsx("input",{type:n?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Confirm password"})]}),e.jsx("button",{type:"submit",className:"w-full rounded bg-[#003366] py-2 text-white hover:bg-[#7A54A1] flex justify-center items-center",disabled:d,children:d?e.jsx("div",{className:"w-5 h-5 border-2 border-t border-white rounded-full animate-spin"}):"Sign Up"})]}),e.jsxs("p",{className:"font-kanit mt-4 text-center text-gray-600",children:["Already have an account?"," ",e.jsx(f,{to:"/signin",className:"text-[#003366 ] hover:text-[#7A54A1]",children:"Sign In"})]})]})})}):w==="employer"?e.jsx("div",{className:"h-full w-full bg-[#FFFFFF] md:w-[40%]",children:e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"flex w-full flex-col items-center justify-center rounded-xl bg-white p-8 gap-4",children:[e.jsx("img",{src:T,alt:"virtual Logo",style:{width:"50px"}}),e.jsx("h2",{className:"font-kanit mb-4 text-center text-lg font-semibold",children:"CREATE AN ACCOUNT AS AN EMPLOYER"}),m&&e.jsx("p",{className:"mb-2 text-center text-sm text-green-600",children:m}),c&&e.jsx("p",{className:"mb-2 text-center text-sm text-red-500",children:c}),e.jsxs("form",{onSubmit:A,className:"w-full",children:[e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(I,{className:"text-[#003366 ]",size:18}),e.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Full Name"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(L,{className:"text-[#003366 ]",size:16}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Enter email"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(U,{className:"text-[#003366 ]",size:16}),e.jsx("input",{type:"text",name:"phone",value:s.phone,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(h,{className:"text-[#003366]",size:20}),e.jsx("input",{type:n?"text":"password",name:"password",value:s.password,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Password"}),e.jsx("div",{className:"flex justify-center items-center p-1 cursor-pointer",onClick:()=>N(l=>!l),children:e.jsx("p",{className:"text-xs",children:n?"Hide":"Show"})})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(h,{className:"text-[#003366 ]",size:20}),e.jsx("input",{type:n?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Confirm password"})]}),e.jsx("button",{type:"submit",className:"w-full rounded bg-[#003366] py-2 text-white hover:bg-[#7A54A1] flex justify-center items-center",disabled:d,children:d?e.jsx("div",{className:"w-5 h-5 border-2 border-t border-white rounded-full animate-spin"}):"Sign Up"})]}),e.jsxs("p",{className:"font-kanit mt-4 text-center text-gray-600",children:["Already have an account?"," ",e.jsx(f,{to:"/signin",className:"text-[#003366 ] hover:text-[#7A54A1]",children:"Sign In"})]})]})})}):e.jsxs("div",{className:"flex flex-col justify-center items-center w-full bg-[#FFFFFF] md:w-[40%] gap-8 p-4",children:[e.jsx("h2",{className:"font-kanit mb-4 text-center text-3xl font-semibold",children:"Join as an Apprentice or Employer"}),e.jsxs("div",{className:"flex md:flex-row flex-col justify-evenly items-center w-full gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center border border-black rounded-md p-2 md:w-[40%] w-full",children:[e.jsx("img",{src:Q,alt:"employer",className:"w-[40px]"}),e.jsx("p",{className:"text-center text-lg",children:"I'm an employeer, I want to hire."}),e.jsx(R,{onClick:()=>C("employer"),className:"w-full bg-blue-600",children:"Select"})]}),e.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center border border-black rounded-md p-2 md:w-[40%] w-full",children:[e.jsx("img",{src:J,alt:"apprentice",className:"w-[40px]"}),e.jsx("p",{className:"text-center text-lg",children:"I'm an apprentice, I want to be hired."}),e.jsx(R,{onClick:()=>C("apprentice"),className:"w-full bg-blue-600",children:"Select"})]})]}),e.jsxs("p",{className:"font-kanit mt-4 text-center text-gray-600",children:["Already have an account?"," ",e.jsx(f,{to:"/signin",className:"text-[#003366 ] hover:text-[#7A54A1]",children:"Sign In"})]})]})}),D&&e.jsx(_,{message:b,onClose:()=>v(!1)}),O&&e.jsx($,{message:b,onClose:()=>S(!1)})]})};export{te as default};
