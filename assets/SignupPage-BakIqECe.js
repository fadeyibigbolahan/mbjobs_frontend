import{r as a,d as B,j as e,L as i,v as N,a as H,u as K}from"./index-Dv2guSAo.js";import{S as _,F as $}from"./Failure-BSkykjtR.js";import{B as L}from"./button-Ciq9Ah_7.js";import{U as R}from"./user-DKOAmlaz.js";import{M as I}from"./mail-CsYhwQbd.js";import{P as U}from"./phone-D5iftJ6t.js";import{K as h}from"./key-square-BHm5DW8h.js";import"./check-CfodUnr7.js";const J="/mbjobs_frontend/assets/apprentice-R33TQps0.png",Q="/mbjobs_frontend/assets/employer-CeTS74L8.png",te=()=>{const[s,M]=a.useState({fullName:"",email:"",phone:"",password:"",confirmPassword:""}),[m,o]=a.useState(""),[d,j]=a.useState(""),[x,u]=a.useState(!1),[n,b]=a.useState(!1),[y,v]=a.useState(""),[D,S]=a.useState(!1),[O,C]=a.useState(!1),[w,A]=a.useState(),q=B(),t=l=>{const{name:c,value:r}=l.target;M(p=>({...p,[c]:c==="email"?r.trim().toLowerCase():r})),o(""),j("")},F=async l=>{var E,k,z,T;l.preventDefault(),o(""),j(""),u(!0);const{fullName:c,email:r,phone:p,password:g,confirmPassword:P}=s;if(!c||!r||!p||!g||!P){o("⚠️ All fields are required"),u(!1);return}if(g!==P){o("❌ Passwords do not match"),u(!1);return}try{const f=await H.post(`${K}users/register-${w}`,{fullName:c,email:r,phone:p,password:g});j("✅ Signup successful! Redirecting..."),v("Signup successful! Redirecting..."),S(!0),setTimeout(()=>{q("/verification",{state:{email:r}})},100)}catch(f){console.error("Signup error:",f),o(((k=(E=f.response)==null?void 0:E.data)==null?void 0:k.message)||"❌ Signup failed! Please try again later."),v(((T=(z=f.response)==null?void 0:z.data)==null?void 0:T.message)||"Signup failed! Please try again later."),C(!0)}finally{u(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full flex flex-col md:h-screen text-black justify-center items-center gap-y-4 md:flex-row",children:w==="apprentice"?e.jsx("div",{className:"h-full w-full bg-[#FFFFFF] md:w-[40%]",children:e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"flex w-full flex-col items-center justify-center rounded-xl bg-white p-8 gap-4",children:[e.jsx(i,{to:"/",children:e.jsx("img",{src:N,alt:"virtual Logo",style:{width:"50px"}})}),e.jsx("h2",{className:"font-kanit mb-4 text-center text-lg font-semibold ",children:"CREATE AN ACCOUNT AS AN APPRENTICE"}),d&&e.jsx("p",{className:"mb-2 text-center text-sm text-green-600",children:d}),m&&e.jsx("p",{className:"mb-2 text-center text-sm text-red-500",children:m}),e.jsxs("form",{onSubmit:F,className:"w-full",children:[e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(R,{className:"text-[#003366 ]",size:18}),e.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Full Name"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(I,{className:"text-[#003366 ]",size:16}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Enter email"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(U,{className:"text-[#003366 ]",size:16}),e.jsx("input",{type:"text",name:"phone",value:s.phone,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(h,{className:"text-[#003366]",size:20}),e.jsx("input",{type:n?"text":"password",name:"password",value:s.password,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Password"}),e.jsx("div",{className:"flex justify-center items-center p-1 cursor-pointer",onClick:()=>b(l=>!l),children:e.jsx("p",{className:"text-xs",children:n?"Hide":"Show"})})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(h,{className:"text-[#003366 ]",size:20}),e.jsx("input",{type:n?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Confirm password"})]}),e.jsx("button",{type:"submit",className:"w-full rounded bg-[#003366] py-2 text-white hover:bg-[#7A54A1] flex justify-center items-center",disabled:x,children:x?e.jsx("div",{className:"w-5 h-5 border-2 border-t border-white rounded-full animate-spin"}):"Sign Up"})]}),e.jsxs("p",{className:"font-kanit mt-4 text-center text-gray-600",children:["Already have an account?"," ",e.jsx(i,{to:"/signin",className:"text-[#003366 ] hover:text-[#7A54A1]",children:"Sign In"})]})]})})}):w==="employer"?e.jsx("div",{className:"h-full w-full bg-[#FFFFFF] md:w-[40%]",children:e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"flex w-full flex-col items-center justify-center rounded-xl bg-white p-8 gap-4",children:[e.jsx(i,{to:"/",children:e.jsx("img",{src:N,alt:"virtual Logo",style:{width:"50px"}})}),e.jsx("h2",{className:"font-kanit mb-4 text-center text-lg font-semibold",children:"CREATE AN ACCOUNT AS AN EMPLOYER"}),d&&e.jsx("p",{className:"mb-2 text-center text-sm text-green-600",children:d}),m&&e.jsx("p",{className:"mb-2 text-center text-sm text-red-500",children:m}),e.jsxs("form",{onSubmit:F,className:"w-full",children:[e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(R,{className:"text-[#003366 ]",size:18}),e.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Full Name"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(I,{className:"text-[#003366 ]",size:16}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Enter email"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(U,{className:"text-[#003366 ]",size:16}),e.jsx("input",{type:"text",name:"phone",value:s.phone,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(h,{className:"text-[#003366]",size:20}),e.jsx("input",{type:n?"text":"password",name:"password",value:s.password,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Password"}),e.jsx("div",{className:"flex justify-center items-center p-1 cursor-pointer",onClick:()=>b(l=>!l),children:e.jsx("p",{className:"text-xs",children:n?"Hide":"Show"})})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(h,{className:"text-[#003366 ]",size:20}),e.jsx("input",{type:n?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:t,className:"w-full text-sm decoration-none outline-none",placeholder:"Confirm password"})]}),e.jsx("button",{type:"submit",className:"w-full rounded bg-[#003366] py-2 text-white hover:bg-[#7A54A1] flex justify-center items-center",disabled:x,children:x?e.jsx("div",{className:"w-5 h-5 border-2 border-t border-white rounded-full animate-spin"}):"Sign Up"})]}),e.jsxs("p",{className:"font-kanit mt-4 text-center text-gray-600",children:["Already have an account?"," ",e.jsx(i,{to:"/signin",className:"text-[#003366 ] hover:text-[#7A54A1]",children:"Sign In"})]})]})})}):e.jsxs("div",{className:"flex flex-col justify-center items-center w-full bg-[#FFFFFF] md:w-[40%] gap-8 p-4",children:[e.jsx(i,{to:"/",children:e.jsx("img",{src:N,alt:"virtual Logo",style:{width:"60px"}})}),e.jsx("h2",{className:"font-kanit mb-4 text-center text-3xl font-semibold",children:"Join as an Apprentice or Employer"}),e.jsxs("div",{className:"flex md:flex-row flex-col justify-evenly items-center w-full gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center border border-black rounded-md p-2 md:w-[40%] w-full",children:[e.jsx("img",{src:Q,alt:"employer",className:"w-[40px]"}),e.jsx("p",{className:"text-center text-lg",children:"I'm an employeer, I want to hire."}),e.jsx(L,{onClick:()=>A("employer"),className:"w-full bg-blue-600",children:"Select"})]}),e.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center border border-black rounded-md p-2 md:w-[40%] w-full",children:[e.jsx("img",{src:J,alt:"apprentice",className:"w-[40px]"}),e.jsx("p",{className:"text-center text-lg",children:"I'm an apprentice, I want to be hired."}),e.jsx(L,{onClick:()=>A("apprentice"),className:"w-full bg-blue-600",children:"Select"})]})]}),e.jsxs("p",{className:"font-kanit mt-4 text-center text-gray-600",children:["Already have an account?"," ",e.jsx(i,{to:"/signin",className:"text-[#003366 ] hover:text-[#7A54A1]",children:"Sign In"})]})]})}),D&&e.jsx(_,{message:y,onClose:()=>S(!1)}),O&&e.jsx($,{message:y,onClose:()=>C(!1)})]})};export{te as default};
