import{r as i,j as e,a as r}from"./index-EQ3434Au.js";const m=({jobId:l,isEmployer:c})=>{const[s,d]=i.useState(null),[n,o]=i.useState([]);return i.useEffect(()=>{const a=async()=>{try{const t=await r.get(`/jobs/${l}`);d(t.data)}catch(t){console.error("Failed to fetch job:",t)}},h=async()=>{try{const t=await r.get(`/applications/job/${l}`);o(t.data)}catch(t){console.error("Failed to fetch applicants:",t)}};a(),c&&h()},[l,c]),s?e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:s.title}),e.jsxs("p",{className:"text-gray-500",children:[s.category," â€¢ ",s.location]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Posted on ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Job Description"}),e.jsx("p",{children:s.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Requirements"}),e.jsx("p",{children:s.requirements})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Salary"}),e.jsxs("p",{children:["$",s.salaryMin," - $",s.salaryMax]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Application Deadline"}),e.jsx("p",{children:new Date(s.deadline).toLocaleDateString()})]}),c&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Applicants"}),n.length===0?e.jsx("p",{children:"No applicants yet."}):e.jsxs("table",{className:"w-full table-auto text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-left",children:[e.jsx("th",{className:"p-2",children:"Applicant"}),e.jsx("th",{className:"p-2",children:"Applied On"}),e.jsx("th",{className:"p-2",children:"Status"}),e.jsx("th",{className:"p-2",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(a=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2",children:a.applicantName}),e.jsx("td",{className:"p-2",children:new Date(a.createdAt).toLocaleDateString()}),e.jsx("td",{className:"p-2 capitalize",children:a.status}),e.jsxs("td",{className:"p-2 space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:underline",children:"View"}),e.jsx("button",{className:"text-green-600 hover:underline",children:"Hire"}),e.jsx("button",{className:"text-red-600 hover:underline",children:"Reject"})]})]},a._id))})]})]})]}):e.jsx("p",{className:"p-4",children:"Loading job details..."})};export{m as default};
